# TeleGO Configuration Example
# Copy this file to config.toml and customize

# Network binding address
bind-to = "0.0.0.0:443"

# Log level: debug, info, warn, error
log-level = "info"

# Named secrets (32 hex characters = 16 bytes)
# Generate with: telego generate <hostname>
[secrets]
user1 = "0123456789abcdef0123456789abcdef"
# user2 = "fedcba9876543210fedcba9876543210"

# TLS fronting configuration
[tls-fronting]
# Host to mimic - used for certificate fetching and SNI validation
# Must match the hostname in your secret
mask-host = "www.google.com"

# Port for mask-host (optional, default: 443)
# mask-port = 443

# Where to fetch TLS certificate from (optional)
# Defaults to mask-host:mask-port if not set
# Useful when running behind a front proxy (e.g., Xray) and you need
# to fetch certs from a local nginx instance directly
# cert-host = "127.0.0.1"
# cert-port = 8443

# Where to forward unrecognized/invalid clients (optional)
# Useful for forwarding probes to a local decoy server
# Defaults to mask-host:mask-port if not set
# splice-host = "127.0.0.1"
# splice-port = 8080

# Send PROXY protocol header to splice target (optional)
# Allows backend (nginx/haproxy) to see real client IP
# 0 = off (default), 1 = v1 (text), 2 = v2 (binary)
# splice-proxy-protocol = 1

# Performance tuning (all optional)
[performance]
# IP preference: prefer-ipv4, prefer-ipv6, only-ipv4, only-ipv6
prefer-ip = "prefer-ipv4"

# Connection idle timeout
idle-timeout = "5m"

# Number of event loops (0 = auto, uses all CPU cores)
num-event-loops = 0
